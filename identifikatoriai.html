<!DOCTYPE html>
<html class="writer-html5" lang="lt" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ryšiai tarp modelių &mdash; Duomenų struktūros aprašas  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="_static/style.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=7be03173"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/translations.js?v=3b848cde"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Indeksas" href="genindex.html" />
    <link rel="search" title="Paieška" href="search.html" />
    <link rel="next" title="Brandos lygiai" href="branda.html" />
    <link rel="prev" title="Matavimo vienetai" href="vienetai.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Duomenų struktūros aprašas
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Ieškoti dokumentuose" aria-label="Ieškoti dokumentuose" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigacijos meniu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="modelis.html">Duomenų modeliavimas</a></li>
<li class="toctree-l1"><a class="reference internal" href="formatas.html">Lentelės formatas</a></li>
<li class="toctree-l1"><a class="reference internal" href="formatas.html#lenteles-struktura">Lentelės struktūra</a></li>
<li class="toctree-l1"><a class="reference internal" href="formatas.html#vardu-erdves">Vardų erdvės</a></li>
<li class="toctree-l1"><a class="reference internal" href="formatas.html#reliatyvus-pavadinimai">Reliatyvūs pavadinimai</a></li>
<li class="toctree-l1"><a class="reference internal" href="dimensijos.html">Dimensijos</a></li>
<li class="toctree-l1"><a class="reference internal" href="dimensijos.html#papildomos-dimensijos">Papildomos dimensijos</a></li>
<li class="toctree-l1"><a class="reference internal" href="tipai.html">Duomenų tipai</a></li>
<li class="toctree-l1"><a class="reference internal" href="pavadinimai.html">Kodiniai pavadinimai</a></li>
<li class="toctree-l1"><a class="reference internal" href="vienetai.html">Matavimo vienetai</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Ryšiai tarp modelių</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#jungimas-per-pirmini-rakta">Jungimas per pirminį raktą</a></li>
<li class="toctree-l2"><a class="reference internal" href="#jungimas-per-nepirmini-rakta">Jungimas per nepirminį raktą</a></li>
<li class="toctree-l2"><a class="reference internal" href="#jungimas-per-kompozicini-rakta">Jungimas per kompozicinį raktą</a></li>
<li class="toctree-l2"><a class="reference internal" href="#jungimas-atgaliniu-rysiu">Jungimas atgaliniu ryšiu</a></li>
<li class="toctree-l2"><a class="reference internal" href="#polimorfinis-jungimas">Polimorfinis jungimas</a></li>
<li class="toctree-l2"><a class="reference internal" href="#denormalizuoti-duomenys">Denormalizuoti duomenys</a></li>
<li class="toctree-l2"><a class="reference internal" href="#brandos-lygis">Brandos lygis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#susiejimas-neimanomas">Susiejimas neįmanomas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#susiejimas-nepatikimas">Susiejimas nepatikimas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#susiejimas-ne-per-pirmini-rakta">Susiejimas ne per pirminį raktą</a></li>
<li class="toctree-l3"><a class="reference internal" href="#susiejimas-per-pirmini-rakta">Susiejimas per pirminį raktą</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="branda.html">Brandos lygiai</a></li>
<li class="toctree-l1"><a class="reference internal" href="prieiga.html">Prieigos lygiai</a></li>
<li class="toctree-l1"><a class="reference internal" href="saltiniai.html">Duomenų šaltiniai</a></li>
<li class="toctree-l1"><a class="reference internal" href="zodynai.html">Išoriniai žodynai</a></li>
<li class="toctree-l1"><a class="reference internal" href="formules.html">Formulės</a></li>
<li class="toctree-l1"><a class="reference internal" href="savokos.html">Sąvokos</a></li>
<li class="toctree-l1"><a class="reference internal" href="keitimai.html">Keitimų istorija</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobilios navigacijos meniu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Duomenų struktūros aprašas</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Puslapių navigacija">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Ryšiai tarp modelių</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/identifikatoriai.rst.txt" rel="nofollow"> Žiūrėti puslapio šaltinį</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rysiai-tarp-modeliu">
<span id="rysiai"></span><h1>Ryšiai tarp modelių<a class="headerlink" href="#rysiai-tarp-modeliu" title="Link to this heading"></a></h1>
<p>Pateikiant metaduomenis apie ryšius tarp modelių, duomenų <a class="reference internal" href="branda.html#level"><span class="std std-ref">brandos lygis</span></a> pakeliamas iki ketvirto lygio.</p>
<p>Ryšiai tarp modelių aprašomi tais atvejais, kai vienoje duomenų lentelėje
naudojami identifikatoriai iš kitos lentelės.</p>
<section id="jungimas-per-pirmini-rakta">
<h2>Jungimas per pirminį raktą<a class="headerlink" href="#jungimas-per-pirmini-rakta" title="Link to this heading"></a></h2>
<p>Pavyzdžiui, jei turime tokias dvi duomenų lenteles:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>Country</p></th>
</tr>
<tr class="row-even"><th class="head"><p>id</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>code</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Lietuva</p></td>
<td><p>lt</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Latvija</p></td>
<td><p>lv</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>City</p></th>
</tr>
<tr class="row-even"><th class="head"><p>id</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>country</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Vilnius</p></td>
<td><p>lt</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Kaunas</p></td>
<td><p>lt</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Ryga</p></td>
<td><p>lv</p></td>
</tr>
</tbody>
</table>
<p>Šiuo atveju, jei norime parengti aukščiau pateiktų duomenų struktūros aprašą,
jis atrodytų taip:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>d</p></th>
<th class="head"><p>r</p></th>
<th class="head"><p>b</p></th>
<th class="head"><p>m</p></th>
<th class="head"><p>property</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>ref</p></th>
<th class="head"><p>level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td colspan="5"><p>datasets/gov/example/countries</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td></td>
<td></td>
<td></td>
<td colspan="2"><p>Country</p></td>
<td></td>
<td><p>code</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>id</p></td>
<td><p>integer</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>name</p></td>
<td><p>string</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>code</p></td>
<td><p>string</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td></td>
<td></td>
<td></td>
<td colspan="2"><p>City</p></td>
<td></td>
<td><p>id</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>id</p></td>
<td><p>integer</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>name</p></td>
<td><p>string</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>country</p></td>
<td><p>ref</p></td>
<td><p>Country</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
<p>Šiame duomenų struktūros apraše, 9-oje eilutėje <code class="docutils literal notranslate"><span class="pre">country</span></code> stulpelio tipas yra
<code class="docutils literal notranslate"><span class="pre">ref</span></code>, tai reiškia, kad šis stulpelis yra kito modelio išorinis raktas.
<code class="docutils literal notranslate"><span class="pre">property.ref</span></code> stulpelyje nurodyta kurio modelio išorinis raktas šis
stulpelis yra. Šiuo atveju, tai yra <code class="docutils literal notranslate"><span class="pre">Country</span></code> modelis, kuris apibrėžtas 2-oje
eilutėje.</p>
<p>Pagal nutylėjimą, ryšys su kitu modeliu nustatomas naudojant kitos lentelės
pirminį raktą nurodytą <a class="reference internal" href="dimensijos.html#model.ref" title="model.ref"><code class="xref py py-data docutils literal notranslate"><span class="pre">model.ref</span></code></a> stulpelyje. Šiuo atveju, <code class="docutils literal notranslate"><span class="pre">City</span>
<span class="pre">.country</span></code> yra jungiamas per <code class="docutils literal notranslate"><span class="pre">Country.code</span></code>. Tai reiškia, kad <code class="docutils literal notranslate"><span class="pre">City.country</span></code>
duomenų tipas turi sutapti su <code class="docutils literal notranslate"><span class="pre">Country.code</span></code> duomenų tipu, kuris yra <code class="docutils literal notranslate"><span class="pre">string</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">property.ref</span></code> reikšmė gali būti pateikiama vienu iš šių variantų:</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">property.ref</span></span></dt>
<dd><dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">model</span></span></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">model</span></code> nurodo kito <a class="reference internal" href="formatas.html#model" title="model"><code class="xref py py-data docutils literal notranslate"><span class="pre">model</span></code></a> pavadinimą kurio <a class="reference internal" href="dimensijos.html#model.ref" title="model.ref"><code class="xref py py-data docutils literal notranslate"><span class="pre">model.ref</span></code></a>
siejamas su <a class="reference internal" href="formatas.html#property" title="property"><code class="xref py py-data docutils literal notranslate"><span class="pre">property</span></code></a>.</p>
<p>Jei <a class="reference internal" href="dimensijos.html#model.ref" title="model.ref"><code class="xref py py-data docutils literal notranslate"><span class="pre">model.ref</span></code></a> pirminiam raktui naudoja daugiau nei vieną lauką,
tada <a class="reference internal" href="dimensijos.html#property.source" title="property.source"><code class="xref py py-data docutils literal notranslate"><span class="pre">property.source</span></code></a> laukas turi būti tuščias, o
<a class="reference internal" href="dimensijos.html#property.prepare" title="property.prepare"><code class="xref py py-data docutils literal notranslate"><span class="pre">property.prepare</span></code></a> turi būti pateikiamos kableliu atskirtos
property reikšmės, kurios bus naudojamos susiejimui.</p>
</dd></dl>

<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">model[property]</span></span></dt>
<dd><p>Tais atvejais, kai <a class="reference internal" href="formatas.html#property" title="property"><code class="xref py py-data docutils literal notranslate"><span class="pre">property</span></code></a> duomenys nesutampa su siejamo
<a class="reference internal" href="dimensijos.html#model.ref" title="model.ref"><code class="xref py py-data docutils literal notranslate"><span class="pre">model.ref</span></code></a>, galima nurodyti <a class="reference internal" href="formatas.html#property" title="property"><code class="xref py py-data docutils literal notranslate"><span class="pre">property</span></code></a> iš <a class="reference internal" href="formatas.html#model" title="model"><code class="xref py py-data docutils literal notranslate"><span class="pre">model</span></code></a>.</p>
</dd></dl>

<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">model[*property]</span></span></dt>
<dd><p>Jei susiejimui reikia daugiau nei vieno duomenų lauko ir jie nesutampa
su model.ref, tada galima nurodyti kelias property reikšmes atskirtas
kableliu. Tačiau šiuo atveju taip pat būtina nurodyti ir
<a class="reference internal" href="dimensijos.html#property.prepare" title="property.prepare"><code class="xref py py-data docutils literal notranslate"><span class="pre">property.prepare</span></code></a> kelias reikšmes atskirtas kableliu, o
<a class="reference internal" href="dimensijos.html#property.source" title="property.source"><code class="xref py py-data docutils literal notranslate"><span class="pre">property.source</span></code></a> reikšmė turi būti tuščia.
<a class="reference internal" href="dimensijos.html#property.prepare" title="property.prepare"><code class="xref py py-data docutils literal notranslate"><span class="pre">property.prepare</span></code></a> stulpelyje nurodomi kiti modelio
<a class="reference internal" href="formatas.html#property" title="property"><code class="xref py py-data docutils literal notranslate"><span class="pre">property</span></code></a> pavadinimai iš kurių duomenų reikšmių turi būti
formuojamas sudėtinis raktas.</p>
</dd></dl>

</dd></dl>

</section>
<section id="jungimas-per-nepirmini-rakta">
<span id="ref-fkey"></span><h2>Jungimas per nepirminį raktą<a class="headerlink" href="#jungimas-per-nepirmini-rakta" title="Link to this heading"></a></h2>
<p>Jei modelius reikia jungti ne per pirminį raktą, o per kitus laukus, tada
naudojama <code class="docutils literal notranslate"><span class="pre">model[property]</span></code> forma.</p>
<p>Pavyzdžiui, jei turime tokius duomenis:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>Country</p></th>
</tr>
<tr class="row-even"><th class="head"><p>id</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>code</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Lietuva</p></td>
<td><p>lt</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Latvija</p></td>
<td><p>lv</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>City</p></th>
</tr>
<tr class="row-even"><th class="head"><p>id</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>country</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Vilnius</p></td>
<td><p>lt</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Kaunas</p></td>
<td><p>lt</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Ryga</p></td>
<td><p>lv</p></td>
</tr>
</tbody>
</table>
<p>Kur <code class="docutils literal notranslate"><span class="pre">Country</span></code> pirminis raktas yra <code class="docutils literal notranslate"><span class="pre">id</span></code> ir norime jungti <code class="docutils literal notranslate"><span class="pre">City.country</span></code> per
<code class="docutils literal notranslate"><span class="pre">Country.code</span></code>, tuomet duomenų struktūros aprašas atrodys taip:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>d</p></th>
<th class="head"><p>d</p></th>
<th class="head"><p>r</p></th>
<th class="head"><p>b</p></th>
<th class="head"><p>m</p></th>
<th class="head"><p>property</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>ref</p></th>
<th class="head"><p>level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td colspan="5"><p>datasets/gov/example/countries</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td></td>
<td></td>
<td></td>
<td colspan="2"><p>Country</p></td>
<td></td>
<td><p>id</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>id</p></td>
<td><p>integer</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>name</p></td>
<td><p>string</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>code</p></td>
<td><p>string</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td></td>
<td></td>
<td></td>
<td colspan="2"><p>City</p></td>
<td></td>
<td><p>id</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>id</p></td>
<td><p>integer</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>name</p></td>
<td><p>string</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>country</p></td>
<td><p>ref</p></td>
<td><p>Country[code]</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
<p>9-oje eilutėje <code class="docutils literal notranslate"><span class="pre">property.ref</span></code> stulpelyje pateikta <code class="docutils literal notranslate"><span class="pre">Country[code]</span></code> reikšmė, kuri
<code class="docutils literal notranslate"><span class="pre">Country</span></code> nurodo su kokiu modeliu jungiame, o <code class="docutils literal notranslate"><span class="pre">code</span></code> nurodo su kokiu <code class="docutils literal notranslate"><span class="pre">Country</span></code>
stulpeliu jungiame. Jei pateiktas tik modelis, tada jungiama per to modelio
pirminį raktą, jei pateiktas stulpelis laužtiniuose skliausteliuose, tada
jungiama per nurodytą stulpelį.</p>
</section>
<section id="jungimas-per-kompozicini-rakta">
<h2>Jungimas per kompozicinį raktą<a class="headerlink" href="#jungimas-per-kompozicini-rakta" title="Link to this heading"></a></h2>
<p>Jei modelius reikia jungti per kelis laukus, tada naudojama
<code class="docutils literal notranslate"><span class="pre">model[*property]</span></code> forma, kur laužtiniuose skliaustuose pateikiami keli
stulpeliai atskirti kableliais.</p>
<p>Pavyzdžiui, jei turime tokius duomenis:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>Country</p></th>
</tr>
<tr class="row-even"><th class="head"><p>id</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>code</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Lietuva</p></td>
<td><p>lt</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Latvija</p></td>
<td><p>lv</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="4"><p>City</p></th>
</tr>
<tr class="row-even"><th class="head"><p>id</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>country</p></th>
<th class="head"><p>country_id</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Vilnius</p></td>
<td><p>lt</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Kaunas</p></td>
<td><p>lt</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Ryga</p></td>
<td><p>lv</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p>Kur <code class="docutils literal notranslate"><span class="pre">City</span></code> su <code class="docutils literal notranslate"><span class="pre">Country</span></code> yra jungiamas per du <code class="docutils literal notranslate"><span class="pre">country</span></code> ir <code class="docutils literal notranslate"><span class="pre">country_id</span></code>
stulpelius, tuomet reikia įtraukti išvestinį duomenų lauką, kuriame formulės
įrašomos į <a class="reference internal" href="dimensijos.html#property.prepare" title="property.prepare"><code class="xref py py-data docutils literal notranslate"><span class="pre">property.prepare</span></code></a> pagalba apjungiami keli laukai į vieną
kompozicinį raktą. Šiuo atveju duomenų struktūros aprašas atrodys taip:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>d</p></th>
<th class="head"><p>d</p></th>
<th class="head"><p>r</p></th>
<th class="head"><p>b</p></th>
<th class="head"><p>m</p></th>
<th class="head"><p>property</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>ref</p></th>
<th class="head"><p>prepare</p></th>
<th class="head"><p>level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td colspan="5"><p>datasets/gov/example/countries</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td></td>
<td></td>
<td></td>
<td colspan="2"><p>Country</p></td>
<td></td>
<td><p>id</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>id</p></td>
<td><p>integer</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>name</p></td>
<td><p>string</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>code</p></td>
<td><p>string</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td></td>
<td></td>
<td></td>
<td colspan="2"><p>City</p></td>
<td></td>
<td><p>id</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>id</p></td>
<td><p>integer</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>name</p></td>
<td><p>string</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>country_code</p></td>
<td><p>string</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>country_id</p></td>
<td><p>integer</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>country</p></td>
<td><p>ref</p></td>
<td><p>Country[id,code]</p></td>
<td><p>country_id, country_code</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
<p>Čia matome, kad 11-oje eilutėje buvo įtrauktas išvestinis laukas <code class="docutils literal notranslate"><span class="pre">country</span></code>,
kuris išskaičiuojamas apjungiant <code class="docutils literal notranslate"><span class="pre">country_id</span></code> ir <code class="docutils literal notranslate"><span class="pre">country_code</span></code>. O ryšiui su
<code class="docutils literal notranslate"><span class="pre">Country</span></code>, laužtiniuose skliausteliuose nurodyti du laukai iš jungiamo
<code class="docutils literal notranslate"><span class="pre">Country</span></code> modelio. Abiejų jungiamų pusių pateiktas laukų sąrašas turi būti
vienodo eiliškumo, o jungiami laukai turi turėti vienodus tipus.</p>
<p>Jei <code class="docutils literal notranslate"><span class="pre">Country</span></code> pirminis raktas būtų kompozicinis, pavyzdžiui <code class="docutils literal notranslate"><span class="pre">id,</span> <span class="pre">code</span></code>,
tuomet, 11-oje eilutėje <code class="docutils literal notranslate"><span class="pre">property.ref</span></code> užtektu nurodyti tik <code class="docutils literal notranslate"><span class="pre">Country</span></code>.</p>
</section>
<section id="jungimas-atgaliniu-rysiu">
<span id="atgalinis-rysys"></span><h2>Jungimas atgaliniu ryšiu<a class="headerlink" href="#jungimas-atgaliniu-rysiu" title="Link to this heading"></a></h2>
<p>Jungiant modelius atgaliniu ryšiu kuriamas išvestinis arba virtualus laukas,
kuriame analogiškai kaip ir paprasto ryšio atveju, apjungiami du modeliai,
tik šiuo atveju kuriamas daug su vienas tipo ryšys.</p>
<p>Pavyzdžiui, jei turime tokius duomenis:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Country</p></th>
</tr>
<tr class="row-even"><th class="head"><p>id</p></th>
<th class="head"><p>name</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Lietuva</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Latvija</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>City</p></th>
</tr>
<tr class="row-even"><th class="head"><p>id</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>country</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Vilnius</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Kaunas</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Ryga</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p>Tai norint sukurti atgalinį ryšį iš <code class="docutils literal notranslate"><span class="pre">City</span></code> modelio į <code class="docutils literal notranslate"><span class="pre">Country</span></code> modelį, duomenų
struktūros aprašas atrodys taip:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>d</p></th>
<th class="head"><p>d</p></th>
<th class="head"><p>r</p></th>
<th class="head"><p>b</p></th>
<th class="head"><p>m</p></th>
<th class="head"><p>property</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>ref</p></th>
<th class="head"><p>level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td colspan="5"><p>datasets/gov/example/countries</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td></td>
<td></td>
<td></td>
<td colspan="2"><p>Country</p></td>
<td></td>
<td><p>id</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>id</p></td>
<td><p>integer</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>name</p></td>
<td><p>string</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>cities[]</p></td>
<td><p>backref</p></td>
<td><p>City</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td></td>
<td></td>
<td></td>
<td colspan="2"><p>City</p></td>
<td></td>
<td><p>id</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>id</p></td>
<td><p>integer</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>name</p></td>
<td><p>string</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>country</p></td>
<td><p>ref</p></td>
<td><p>Country</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
<p>Čia atgalinis ryšys nurodytas 5-oje eilutėje, pateikiant virtualų
<code class="docutils literal notranslate"><span class="pre">Country.cities</span></code> lauką, kuris jungiamas per <code class="docutils literal notranslate"><span class="pre">City.country</span></code> lauką, kadangi
<code class="docutils literal notranslate"><span class="pre">City.country</span></code> turi ryšį su <code class="docutils literal notranslate"><span class="pre">Country</span></code>.</p>
<p>Jei <code class="docutils literal notranslate"><span class="pre">City</span></code> modelyje būtų pateikti keli stulpeliai susieti su <code class="docutils literal notranslate"><span class="pre">Country</span></code>, tada
5-oje eilutėje <code class="docutils literal notranslate"><span class="pre">property.ref</span></code> reikšmė turėtų nurodyti konkretų lauką, per
kurį jungiama, pavyzdžiui <code class="docutils literal notranslate"><span class="pre">City[country]</span></code>.</p>
</section>
<section id="polimorfinis-jungimas">
<span id="polimorfinis-rysys"></span><h2>Polimorfinis jungimas<a class="headerlink" href="#polimorfinis-jungimas" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Pastaba</p>
<p>Tokio tipo jungimas kol kas dar nėra įgyvendintas.</p>
</div>
<p>Polimorfinis jungimas yra toks ryšys tarp modelių, kai vieno modelio laukas
yra siejamas su daugiau nei vienu kitu modeliu. Tokiam ryšiui nurodyti
polimorfinis laukas turi dvi reikšmes, išorinio modelio pavadinimą ir to
modelio stulpelio per kurį jungiama reikšmę.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Country</p></th>
</tr>
<tr class="row-even"><th class="head"><p>id</p></th>
<th class="head"><p>name</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Lietuva</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Latvija</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>City</p></th>
</tr>
<tr class="row-even"><th class="head"><p>id</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>country</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Vilnius</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Ryga</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="4"><p>Event</p></th>
</tr>
<tr class="row-even"><th class="head"><p>id</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>object_id</p></th>
<th class="head"><p>object_model</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Įkūrimas</p></td>
<td><p>1</p></td>
<td><p>datasets/gov/example/countries/Country</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Įkūrimas</p></td>
<td><p>2</p></td>
<td><p>datasets/gov/example/countries/Country</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Įkūrimas</p></td>
<td><p>1</p></td>
<td><p>datasets/gov/example/countries/City</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>Įkūrimas</p></td>
<td><p>2</p></td>
<td><p>datasets/gov/example/countries/City</p></td>
</tr>
</tbody>
</table>
<p>Pavyzdyje aukščiau matome, kad yra du modeliai <code class="docutils literal notranslate"><span class="pre">Country</span></code> ir <code class="docutils literal notranslate"><span class="pre">City</span></code>, kuriuos
jungia <code class="docutils literal notranslate"><span class="pre">Event</span></code> modelis per <code class="docutils literal notranslate"><span class="pre">object_id</span></code> ir <code class="docutils literal notranslate"><span class="pre">object_model</span></code> laukus. Pavyzdžiui
<code class="docutils literal notranslate"><span class="pre">Event</span></code> kurio <code class="docutils literal notranslate"><span class="pre">id</span></code> yra 1, siejamas su <code class="docutils literal notranslate"><span class="pre">Country</span></code> modeliu, kurio <code class="docutils literal notranslate"><span class="pre">id</span></code> yra 1.</p>
<p>Tokių duomenų struktūros aprašas atrodys taip:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>d</p></th>
<th class="head"><p>d</p></th>
<th class="head"><p>r</p></th>
<th class="head"><p>b</p></th>
<th class="head"><p>m</p></th>
<th class="head"><p>property</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>ref</p></th>
<th class="head"><p>prepare</p></th>
<th class="head"><p>level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td colspan="5"><p>datasets/gov/example/countries</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td></td>
<td></td>
<td></td>
<td colspan="2"><p>Country</p></td>
<td></td>
<td><p>id</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>id</p></td>
<td><p>integer</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>name</p></td>
<td><p>string</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>cities[]</p></td>
<td><p>backref</p></td>
<td><p>City</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td></td>
<td></td>
<td></td>
<td colspan="2"><p>City</p></td>
<td></td>
<td><p>id</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>id</p></td>
<td><p>integer</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>name</p></td>
<td><p>string</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>country</p></td>
<td><p>ref</p></td>
<td><p>Country</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td></td>
<td></td>
<td></td>
<td colspan="2"><p>Event</p></td>
<td></td>
<td><p>id</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>id</p></td>
<td><p>integer</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>name</p></td>
<td><p>string</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>13</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>object_id</p></td>
<td><p>integer</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>14</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>object_model</p></td>
<td><p>string</p></td>
<td></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>object</p></td>
<td><p>generic</p></td>
<td><p>Country</p></td>
<td><p>object_model, object_id</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>City</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>15-oje eilutėje įtrauktas virtualus <code class="docutils literal notranslate"><span class="pre">Event.object</span></code> laukas, kuris 15-oje ir
16-oje eilutėse, <a class="reference internal" href="dimensijos.html#property.ref" title="property.ref"><code class="xref py py-data docutils literal notranslate"><span class="pre">property.ref</span></code></a> stulpelyje išvardina du modelius
<code class="docutils literal notranslate"><span class="pre">Country</span></code> ir City`, su kuriais jungiamas šis laukas, per <code class="docutils literal notranslate"><span class="pre">object_model</span></code> ir
<code class="docutils literal notranslate"><span class="pre">object_id</span></code> laukus, kurie aprašyti atskirai.</p>
<p><code class="docutils literal notranslate"><span class="pre">object_id</span></code> ir <code class="docutils literal notranslate"><span class="pre">object_model</span></code> aprašomi atskirai tik todėl, kad duomenys
ateina iš išorinio šaltinio. Jie duomenys rašomi tiesiogiai į <span class="xref std std-ref">Saugyklą</span>, tada atskirai <code class="docutils literal notranslate"><span class="pre">generic</span></code> laukų apsirašyti nereikia.</p>
</section>
<section id="denormalizuoti-duomenys">
<span id="ref-denorm"></span><h2>Denormalizuoti duomenys<a class="headerlink" href="#denormalizuoti-duomenys" title="Link to this heading"></a></h2>
<p>Denormalizuoti duomenų laukai yra tokie laukai, kurie pateikti viename
modelyje, tačiau pagal semantinę prasmę priklauso skirtingiems modeliams.</p>
<p>Dažniausiai duomenų normalizavimas atveriant duomenis yra nepageidaujamas ir
duomenų struktūra turėtu būti transformuojama į skirtingus modelius, pagal
semantinę prasmę. Plačiau apie duomenų normalizavimą galite skaityti skyriuje
<span class="xref std std-ref">norm</span>.</p>
<p>Tačiau tais atvejais, kai vis dėlto norima pateikti duomenis denormalizuotoje
formoje, duomenų struktūros apraše galima nurodyti, kurie duomenų laukai yra
denormalizuoti.</p>
<p>Pavyzdys, kaip atrodo denormalizuotų duomenų laukų žymėjimas:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>d</p></th>
<th class="head"><p>r</p></th>
<th class="head"><p>b</p></th>
<th class="head"><p>m</p></th>
<th class="head"><p>property</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>ref</p></th>
<th class="head"><p>level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td colspan="5"><p>example</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td colspan="2"><p>Country</p></td>
<td></td>
<td><p>code</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>code</p></td>
<td><p>string</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>name&#64;en</p></td>
<td><p>text</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td colspan="2"><p>City</p></td>
<td></td>
<td></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>name&#64;en</p></td>
<td><p>text</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>country</p></td>
<td><p>ref</p></td>
<td><p>Country</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>country.code</p></td>
<td></td>
<td></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>country.name&#64;en</p></td>
<td></td>
<td></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>country.name&#64;lt</p></td>
<td><p>text</p></td>
<td></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p>Šiame pavyzdyje turime tokius laukus:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">country</span></code></dt><dd><p>Šis laukas yra <code class="docutils literal notranslate"><span class="pre">ref</span></code> tipo, tai reiškia, kad šiame lauke saugomas <code class="docutils literal notranslate"><span class="pre">Country</span></code>
modelio identifikatorius, kurio pagalba <code class="docutils literal notranslate"><span class="pre">City</span></code> galima susieti su <code class="docutils literal notranslate"><span class="pre">Country</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">ref</span></code> tipo duomenys yra sudėtiniai, tai reiškia, kad per <code class="docutils literal notranslate"><span class="pre">ref</span></code> tipo lauką
galima pasiekti siejamo modelio laukus, nurodant kito modelio laukus po
taško.</p>
<p>Todėl pagal nutylėjimą <code class="docutils literal notranslate"><span class="pre">country</span> <span class="pre">ref</span> <span class="pre">Country</span></code> yra tas pats, kas <code class="docutils literal notranslate"><span class="pre">country._id</span>
<span class="pre">ref</span> <span class="pre">Country</span></code>, tik <code class="docutils literal notranslate"><span class="pre">._id</span></code> dalis nenurodoma.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">country.code</span></code> ir <code class="docutils literal notranslate"><span class="pre">country.name&#64;en</span></code></dt><dd><p>Šie laukai yra denormalizuoti, tai reiškia, kad jie priklauso <code class="docutils literal notranslate"><span class="pre">Country</span></code>
modeliui, tačiau duomenys yra dubliuojami ir pateikiami dviejose vietose,
prie <code class="docutils literal notranslate"><span class="pre">Country</span></code> ir prie <code class="docutils literal notranslate"><span class="pre">City.country</span></code>.</p>
<p>Kadangi <code class="docutils literal notranslate"><span class="pre">City.country</span></code> yra <code class="docutils literal notranslate"><span class="pre">ref</span></code> tipo, tai po taško, galima nurodyti kitus
šiam siejamam modeliui priklausančius laukus iš kito modelio.</p>
<p>Atkreipkite dėmesį, kad denormalizuotiems laukams nepildomas <code class="docutils literal notranslate"><span class="pre">type</span></code>
stulpelis, kadangi šių laukų tipas turi sutapti su siejamo modelio laukų
tipais, taip pat turi sutapti ir laukų pavadinimai.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">country.name&#64;lt</span></code></dt><dd><p>Tais atvejais, kai siejamame modelyje (šiuo atveju <code class="docutils literal notranslate"><span class="pre">Country</span></code> modelyje) nėra
tam tikrų laukų, tuomet galima juose pateikti ir prie <code class="docutils literal notranslate"><span class="pre">City.country</span></code>,
tačiau tokiu atveju, būtina nurodyti <code class="docutils literal notranslate"><span class="pre">type</span></code>.</p>
</dd>
</dl>
</section>
<section id="brandos-lygis">
<span id="ref-level"></span><h2>Brandos lygis<a class="headerlink" href="#brandos-lygis" title="Link to this heading"></a></h2>
<p>Apibrėžiant ryšius tarp modelių, brandos lygis įrašomas <a class="reference internal" href="formatas.html#level" title="level"><code class="xref py py-data docutils literal notranslate"><span class="pre">level</span></code></a>
stulpelyje atlieka svarbų vaidmenį. Nuo brandos lygio, priklauso, kaip turi būti
interpretuojamas išorinis raktas, siejamas su kitu modeliu.</p>
<dl>
<dt>1 brandos lygis: Susiejimas neįmanomas</dt><dd><p>Duomenys pateikti tokia forma, kurios pagalba dviejų modelių jungimas nėra
įmanomas.</p>
<p>Pavyzdžiui, pateikta adreso tekstinė forma, kuri nesutampa su tekstine
forma pateikiama oficialiame adresų registre arba naudojamas toks tam
tikras identifikatorius, kuris nėra surištas su siejamo modelio pirminiu
raktu.</p>
</dd>
<dt>2 brandos lygis: Susiejimas nepatikimas</dt><dd><p>Duomenys pateikiami tam tikra forma, kuri neužtikrina patikimo duomenų
susiejimo, tačiau siejimui atliekamas pagal siejamo modelio atributą, kuris
negarantuoja unikalaus objekto identifikavimo.</p>
<p>Pavyzdžiui siejimas daromas pagal pavadinimą, kuris gali keistis arba ne
visais atvejais sutampa.</p>
</dd>
<dt>3 brandos lygis: Susiejimas ne per pirminį raktą</dt><dd><p>Duomenims susieti naudojamas patikimas identifikatorius, kuris yra surištas
siejamo modelio pirminiu raktu, tačiau naudojamas ne pirminis raktas, o
kitas identifikatorius.</p>
</dd>
<dt>4 brandos lygis: Susiejimas per pirminį raktą</dt><dd><p>Susiejimas daromas per pirminį raktą.</p>
</dd>
</dl>
<section id="susiejimas-neimanomas">
<h3>Susiejimas neįmanomas<a class="headerlink" href="#susiejimas-neimanomas" title="Link to this heading"></a></h3>
<p>Jei <code class="docutils literal notranslate"><span class="pre">ref</span></code> tipui nurodytas 1 arba žemesnis brandos lygis, tai reiškia, duomenų
jungimas nėra įmanomas. Tokiu atveju, atveriant duomenis, <code class="docutils literal notranslate"><span class="pre">property</span></code> įgaus tokį
tipą, koks yra lauko su kuriuo siejamas ryšys tipas.</p>
<p>Pavyzdžiui:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>d</p></th>
<th class="head"><p>r</p></th>
<th class="head"><p>b</p></th>
<th class="head"><p>m</p></th>
<th class="head"><p>property</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>ref</p></th>
<th class="head"><p>level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td colspan="5"><p>example</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td colspan="2"><p>Country</p></td>
<td></td>
<td><p>name&#64;lt</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>name&#64;lt</p></td>
<td><p>text</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td colspan="2"><p>City</p></td>
<td></td>
<td><p>name</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>name&#64;lt</p></td>
<td><p>text</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>country</p></td>
<td><p>ref</p></td>
<td><p>Country</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<p>Šiuo atveju, <code class="docutils literal notranslate"><span class="pre">City.country</span></code> yra siejamas su <code class="docutils literal notranslate"><span class="pre">Country.name</span></code>. Kadangi
<code class="docutils literal notranslate"><span class="pre">City.country</span></code> brandos lygis yra 2, tai reiškia, kad <code class="docutils literal notranslate"><span class="pre">City.country</span></code> ir
<code class="docutils literal notranslate"><span class="pre">Country.name</span></code> pavadinimai nesutampa ir jungimo atlikti neįmanoma. Tokiu
atveju, <code class="docutils literal notranslate"><span class="pre">City.country</span></code> tipas bus ne <code class="docutils literal notranslate"><span class="pre">ref</span></code>, o toks pat, kaip <code class="docutils literal notranslate"><span class="pre">Country.name</span></code>,
t.y. <code class="docutils literal notranslate"><span class="pre">text</span></code>.</p>
<p>Tačiau, metaduomenyse išliks informacija, apie tai, kad šios lentelės yra
susijusios, tačiau dėl prasto duomenų brandos lygios, realus susiejimas nėra
įmanomas.</p>
<p>Jei modeliai yra susiję, tačiau, tokio duomenų lauko, per kurį galima būtų
atlikti susiejimą iš vis nėra, tuomet, tokį lauką galima sukurti, nurodant
brandos lygį 0. Pavyzdžiui:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>d</p></th>
<th class="head"><p>r</p></th>
<th class="head"><p>b</p></th>
<th class="head"><p>m</p></th>
<th class="head"><p>property</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>ref</p></th>
<th class="head"><p>level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td colspan="5"><p>example</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td colspan="2"><p>Country</p></td>
<td></td>
<td><p>name&#64;lt</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>name&#64;lt</p></td>
<td><p>text</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>name&#64;en</p></td>
<td><p>text</p></td>
<td></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td colspan="2"><p>City</p></td>
<td></td>
<td><p>name</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>name&#64;en</p></td>
<td><p>text</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>country</p></td>
<td><p>ref</p></td>
<td><p>Country[name&#64;en]</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<p>Šioje vietoje <code class="docutils literal notranslate"><span class="pre">City.country</span></code> tampa <code class="docutils literal notranslate"><span class="pre">country&#64;en</span></code>, kurio tipas yra <code class="docutils literal notranslate"><span class="pre">text</span></code>. O į
<code class="docutils literal notranslate"><span class="pre">Country</span></code> yra įtrauktas papildomas laukas <code class="docutils literal notranslate"><span class="pre">name&#64;en</span></code>, per kurį ir atliekamas
susiejimas, t.y. per kurį galėtu būti atliktas susiejimas, jei toks laukas
egzistuotų ne tik <code class="docutils literal notranslate"><span class="pre">City.country</span></code>, bet ir <code class="docutils literal notranslate"><span class="pre">Country.name&#64;en</span></code>.</p>
</section>
<section id="susiejimas-nepatikimas">
<h3>Susiejimas nepatikimas<a class="headerlink" href="#susiejimas-nepatikimas" title="Link to this heading"></a></h3>
<p>Jei <code class="docutils literal notranslate"><span class="pre">ref</span></code> tipui suteiktas 2 brandos lygis, tai reiškia, kad susiejimas yra
įmanomas, tačiau nėra garantijos, kad jis veiks visais atvejais.</p>
<p>Susiejimas laikomas nepatikimu, tada, kai siejimas atliekamas ne patikimo
unikalaus identifikatoriaus pagalba, o per pavadinimą ar panašiais būdais.</p>
<p>Pavadinimai gali keistis, gali dubliuotis, gal skirtis jų užrašymo forma, todėl
toks jungimas laikomas nepatikimu.</p>
<p>Toks jungimas ir 2 brandos lygio žymėjimas taikomas tik tais atvejais, kai
jungimas daromas, per jungiamo modelio atributą. Pavyzdžiui:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>d</p></th>
<th class="head"><p>r</p></th>
<th class="head"><p>b</p></th>
<th class="head"><p>m</p></th>
<th class="head"><p>property</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>ref</p></th>
<th class="head"><p>level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td colspan="5"><p>example</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td colspan="2"><p>Country</p></td>
<td></td>
<td><p>name&#64;lt</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>name&#64;lt</p></td>
<td><p>text</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td colspan="2"><p>City</p></td>
<td></td>
<td><p>name</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>name&#64;lt</p></td>
<td><p>text</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>country</p></td>
<td><p>ref</p></td>
<td><p>Country</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p>Šiuo atveju, kadangi <code class="docutils literal notranslate"><span class="pre">City.country</span></code> brandos lygis yra <code class="docutils literal notranslate"><span class="pre">2</span></code>, tai reiškia, kad
<code class="docutils literal notranslate"><span class="pre">City.country</span></code> duomenys yra realiai paimti iš <code class="docutils literal notranslate"><span class="pre">Country.name&#64;lt</span></code>. Jei
<code class="docutils literal notranslate"><span class="pre">City.country</span></code> būtų paimti ne iš <code class="docutils literal notranslate"><span class="pre">Country.name&#64;lt</span></code>, o iš kokio nors kito
šaltinio ir gali nesutapti, tada brandos lygis turėtu būti <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>Tai reiškia, kad <code class="docutils literal notranslate"><span class="pre">2</span></code> brandos lygis žymimas tik tais atvejais, kai išorinis
raktas yra paimtas iš siejamo modelio atributo.</p>
</section>
<section id="susiejimas-ne-per-pirmini-rakta">
<h3>Susiejimas ne per pirminį raktą<a class="headerlink" href="#susiejimas-ne-per-pirmini-rakta" title="Link to this heading"></a></h3>
<p>Jei <code class="docutils literal notranslate"><span class="pre">ref</span></code> tipui suteiktas 3 ar didesnis brandos lygis, vadinasi susiejimas yra
patikimas. Duomenys siejami naudojant patikimus unikalius identifikatorius,
kurie nesidubliuoja, nesikeičia ir užrašomi visada vienodai.</p>
<p>Dažniausiai patikimais identifikatoriais laikomi sveiki skaičiai, tam tikri
sutartiniai kodai ir kiti specializuoti identifikatoriai, tokie kaip UUID.</p>
<p>Tačiau, naudojamas ne pirminis raktas, o kitas duomenų laukas. Pavyzdžiui:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>d</p></th>
<th class="head"><p>r</p></th>
<th class="head"><p>b</p></th>
<th class="head"><p>m</p></th>
<th class="head"><p>property</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>ref</p></th>
<th class="head"><p>level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td colspan="5"><p>example</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td colspan="2"><p>Country</p></td>
<td></td>
<td><p>id</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>id</p></td>
<td><p>integer</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>code</p></td>
<td><p>string</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>name&#64;lt</p></td>
<td><p>text</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td colspan="2"><p>City</p></td>
<td></td>
<td><p>name</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>name&#64;lt</p></td>
<td><p>text</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>country</p></td>
<td><p>ref</p></td>
<td><p>Country[code]</p></td>
<td><p>3</p></td>
</tr>
</tbody>
</table>
<p>Skirtumas tarp <code class="docutils literal notranslate"><span class="pre">3</span></code> ir <code class="docutils literal notranslate"><span class="pre">4</span></code> brandos lygio iš esmės susijęs su duomenų saugojimu
Saugykloje ar kitoje vietoje, kur pirminiai raktai yra generuojami ir jų
negalima keisti. Jei naudojamas <code class="docutils literal notranslate"><span class="pre">3</span></code> brandos lygis, tuomet saugykloje saugomas,
ne išorinis saugyklos identifikatorius UUID, o vidinis duomenų rinkinio
identifikatorius.</p>
<p>Publikuojant duomenis iš tam tikro šaltinio, išoriniai raktas visada turėtu
būti konvertuojami į išorinį pirminį raktą, tačiau tais atvejais, jei dėl tam
tikrų priežasčių tas nėra daroma, tuomet žymimas 3 brandos lygis ir
publikuojami ne išoriniai pirminiai raktai, o šaltinio vidiniai.</p>
<p>Pavyzdžiui, jei turime tokius duomenis:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="4"><p>example/Country</p></th>
</tr>
<tr class="row-even"><th class="head"><p>_id</p></th>
<th class="head"><p>id</p></th>
<th class="head"><p>code</p></th>
<th class="head"><p>name&#64;lt</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>4dbb1b77-a930-4f2a-8ef4-f05b89f0fcfe</p></td>
<td><p>1</p></td>
<td><p>lt</p></td>
<td><p>Lietuva</p></td>
</tr>
</tbody>
</table>
<p>Ir jei <code class="docutils literal notranslate"><span class="pre">City.country</span></code> turi brandos lygį <code class="docutils literal notranslate"><span class="pre">3</span></code>, tada <code class="docutils literal notranslate"><span class="pre">City</span></code> duomenys atrodys taip:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>example/City</p></th>
</tr>
<tr class="row-even"><th class="head"><p>_id</p></th>
<th class="head"><p>name&#64;lt</p></th>
<th class="head"><p>country._id</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>096e054e-7a4c-44cc-8f27-98af815080d5</p></td>
<td><p>Vilnius</p></td>
<td><p>lt</p></td>
</tr>
</tbody>
</table>
</section>
<section id="susiejimas-per-pirmini-rakta">
<h3>Susiejimas per pirminį raktą<a class="headerlink" href="#susiejimas-per-pirmini-rakta" title="Link to this heading"></a></h3>
<p>Šiuo atveju, brandos lygis žymimas <code class="docutils literal notranslate"><span class="pre">4</span></code> ir skirtumas nuo <code class="docutils literal notranslate"><span class="pre">3</span></code> brandos lygio yra
toks, kad duomenyse naudojamas išorinis pirminis raktas. Pavyzdžiui:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>d</p></th>
<th class="head"><p>r</p></th>
<th class="head"><p>b</p></th>
<th class="head"><p>m</p></th>
<th class="head"><p>property</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>ref</p></th>
<th class="head"><p>level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td colspan="5"><p>example</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td colspan="2"><p>Country</p></td>
<td></td>
<td><p>id</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>id</p></td>
<td><p>integer</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>code</p></td>
<td><p>string</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>name&#64;lt</p></td>
<td><p>text</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td colspan="2"><p>City</p></td>
<td></td>
<td><p>name</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>name&#64;lt</p></td>
<td><p>text</p></td>
<td></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td></td>
<td></td>
<td></td>
<td><p>country</p></td>
<td><p>ref</p></td>
<td><p>Country</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
<p>Turint tokį struktūros aprašą, kur <code class="docutils literal notranslate"><span class="pre">City.country</span></code> brandos lygis yra <code class="docutils literal notranslate"><span class="pre">4</span></code>,
duomenys atrodys taip:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="4"><p>example/Country</p></th>
</tr>
<tr class="row-even"><th class="head"><p>_id</p></th>
<th class="head"><p>id</p></th>
<th class="head"><p>code</p></th>
<th class="head"><p>name&#64;lt</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>4dbb1b77-a930-4f2a-8ef4-f05b89f0fcfe</p></td>
<td><p>1</p></td>
<td><p>lt</p></td>
<td><p>Lietuva</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>example/City</p></th>
</tr>
<tr class="row-even"><th class="head"><p>_id</p></th>
<th class="head"><p>name&#64;lt</p></th>
<th class="head"><p>country._id</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>096e054e-7a4c-44cc-8f27-98af815080d5</p></td>
<td><p>Vilnius</p></td>
<td><p>4dbb1b77-a930-4f2a-8ef4-f05b89f0fcfe</p></td>
</tr>
</tbody>
</table>
<p>Matome, kad <code class="docutils literal notranslate"><span class="pre">City.country._id</span></code> yra <code class="docutils literal notranslate"><span class="pre">Country</span></code> pirminis raktas. Tai reiškia, kad
vidiniai duomenų rinkinio raktai konvertuojami į išorinius.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Poraštė">
        <a href="vienetai.html" class="btn btn-neutral float-left" title="Matavimo vienetai" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Ankstesnis</a>
        <a href="branda.html" class="btn btn-neutral float-right" title="Brandos lygiai" accesskey="n" rel="next">Kitas <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2024, IVPK.</p>
  </div>

  Surinkta su <a href="https://www.sphinx-doc.org/">Sphinx</a> naudojant
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">temą</a>
    pateiktą <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>